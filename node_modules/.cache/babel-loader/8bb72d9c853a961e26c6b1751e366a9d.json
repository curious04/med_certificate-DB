{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hrith\\\\OneDrive\\\\Desktop\\\\medcertificates-main\\\\src\\\\Contenedores\\\\Workers\\\\List\\\\index.js\",\n  _s = $RefreshSig$();\nimport { Box, Button, Text } from 'grommet';\nimport { AddCircle, Refresh, StatusCritical } from 'grommet-icons';\nimport React, { useContext } from 'react';\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\nimport { log } from '../../../utils';\nimport { WorkersContext } from '../Context';\nimport { getEntries } from '../sdk/deliveryAPI';\nimport { deleteEntry } from '../sdk/managementAPI';\nimport Table from './Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction List() {\n  _s();\n  const {\n    current: [, setCurrent]\n  } = useContext(WorkersContext);\n  const {\n    data,\n    isFetching,\n    error,\n    isLoading\n  } = useQuery('fetchWorkers', function () {\n    return getEntries();\n  });\n  const queryClient = useQueryClient();\n  const deleteMutation = useMutation(function (id) {\n    return deleteEntry(id);\n  }, {\n    onSuccess: function () {\n      log('info', 'Action performed successfully');\n      queryClient.invalidateQueries('fetchWorkers');\n    },\n    onError: function (err) {\n      console.error(err);\n    },\n    onSettled: function () {}\n  });\n  const deleteWorker = id => {\n    deleteMutation.mutate(id);\n  };\n  const setCurrentWorker = worker => {\n    setCurrent(worker);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row\",\n      gap: \"medium\",\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        color: \"accent-1\",\n        children: [\"Loading... \", /*#__PURE__*/_jsxDEV(Refresh, {\n          color: \"accent-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row\",\n      gap: \"medium\",\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        color: \"accent-2\",\n        children: [\"An error has occurred... \", /*#__PURE__*/_jsxDEV(StatusCritical, {\n          color: \"accent-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    pad: \"medium\",\n    elevation: \"medium\",\n    fill: true,\n    gap: \"small\",\n    children: [isFetching && /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row\",\n      gap: \"medium\",\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        color: \"accent-2\",\n        children: [\"Fetching data... \", /*#__PURE__*/_jsxDEV(Refresh, {\n          color: \"accent-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row\",\n      gap: \"medium\",\n      justify: \"end\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: () => setCurrent({}),\n        label: \"Add\",\n        icon: /*#__PURE__*/_jsxDEV(AddCircle, {\n          color: \"brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this),\n        color: \"accent-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      workers: data,\n      setCurrent: setCurrentWorker,\n      deleteWorker: deleteWorker\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(List, \"HlT+X7u8CXEyNcUx7QvFhz8TJ7I=\", false, function () {\n  return [useQuery, useQueryClient, useMutation];\n});\n_c = List;\nexport default List;\nvar _c;\n$RefreshReg$(_c, \"List\");","map":{"version":3,"names":["Box","Button","Text","AddCircle","Refresh","StatusCritical","React","useContext","useMutation","useQuery","useQueryClient","log","WorkersContext","getEntries","deleteEntry","Table","jsxDEV","_jsxDEV","List","_s","current","setCurrent","data","isFetching","error","isLoading","queryClient","deleteMutation","id","onSuccess","invalidateQueries","onError","err","console","onSettled","deleteWorker","mutate","setCurrentWorker","worker","direction","gap","children","color","fileName","_jsxFileName","lineNumber","columnNumber","pad","elevation","fill","justify","type","onClick","label","icon","workers","_c","$RefreshReg$"],"sources":["C:/Users/hrith/OneDrive/Desktop/medcertificates-main/src/Contenedores/Workers/List/index.js"],"sourcesContent":["import { Box, Button, Text } from 'grommet';\nimport { AddCircle, Refresh, StatusCritical } from 'grommet-icons';\nimport React, { useContext } from 'react';\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\nimport { log } from '../../../utils';\nimport { WorkersContext } from '../Context';\nimport { getEntries } from '../sdk/deliveryAPI';\nimport { deleteEntry } from '../sdk/managementAPI';\nimport Table from './Table';\n\nfunction List() {\n  const {\n    current: [, setCurrent],\n  } = useContext(WorkersContext);\n\n  const { data, isFetching, error, isLoading } = useQuery(\n    'fetchWorkers',\n    function () {\n      return getEntries();\n    }\n  );\n\n  const queryClient = useQueryClient();\n\n  const deleteMutation = useMutation(\n    function (id) {\n      return deleteEntry(id);\n    },\n    {\n      onSuccess: function () {\n        log('info', 'Action performed successfully');\n        queryClient.invalidateQueries('fetchWorkers');\n      },\n      onError: function (err) {\n        console.error(err);\n      },\n      onSettled: function () {},\n    }\n  );\n\n  const deleteWorker = (id) => {\n    deleteMutation.mutate(id);\n  };\n\n  const setCurrentWorker = (worker) => {\n    setCurrent(worker);\n  };\n\n  if (isLoading) {\n    return (\n      <Box direction=\"row\" gap=\"medium\">\n        <Text color=\"accent-1\">\n          Loading... <Refresh color=\"accent-1\" />\n        </Text>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box direction=\"row\" gap=\"medium\">\n        <Text color=\"accent-2\">\n          An error has occurred... <StatusCritical color=\"accent-2\" />\n        </Text>\n      </Box>\n    );\n  }\n\n  return (\n    <Box pad=\"medium\" elevation=\"medium\" fill gap=\"small\">\n      {isFetching && (\n        <Box direction=\"row\" gap=\"medium\">\n          <Text color=\"accent-2\">\n            Fetching data... <Refresh color=\"accent-2\" />\n          </Text>\n        </Box>\n      )}\n\n      <Box direction=\"row\" gap=\"medium\" justify=\"end\">\n        <Button\n          type=\"button\"\n          onClick={() => setCurrent({})}\n          label=\"Add\"\n          icon={<AddCircle color=\"brand\" />}\n          color=\"accent-1\"\n        />\n      </Box>\n\n      <Table\n        workers={data}\n        setCurrent={setCurrentWorker}\n        deleteWorker={deleteWorker}\n      />\n    </Box>\n  );\n}\n\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module"}